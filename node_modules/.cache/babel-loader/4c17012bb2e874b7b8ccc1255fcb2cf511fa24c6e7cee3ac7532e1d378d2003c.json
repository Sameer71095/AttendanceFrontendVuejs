{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  name: 'login',\n  data() {\n    return {\n      result: {\n        email: '',\n        password: ''\n      },\n      user: {\n        email: {\n          value: 'sameer71095@gmail.com',\n          errormsg: ''\n        },\n        password: {\n          value: 'm.sameer',\n          errormsg: ''\n        }\n      },\n      logging: false\n    };\n  },\n  created() {},\n  methods: {\n    async login() {\n      if (!this.user.password.value || this.user.password.value.length < 7) {\n        this.user.password.errormsg = 'min length 7';\n      } else {\n        this.user.password.errormsg = '';\n      }\n      if (!this.user.email.value) {\n        this.user.email.errormsg = 'empty not allowed';\n      } else if (!this.validEmail(this.user.email.value)) {\n        this.user.email.errormsg = 'Valid email required.';\n      } else {\n        this.user.email.errormsg = '';\n      }\n      if (!this.user.email.errormsg && !this.user.password.errormsg) {\n        try {\n          loading = true;\n          const response = await axios.post('http://clockspotter.com:5000/Api/Employer/Login', {\n            email: this.user.email.value,\n            password: this.user.password.value\n          }, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          if (response.data.isSuccess) {\n            // Save token to localStorage (or any other storage you'd like to use)\n            localStorage.setItem('authToken', response.data.data.token);\n            this.logging = true;\n            this.$nextTick(() => {\n              this.$router.push('/');\n            });\n          } else {\n            // Display the response message\n            // Display the response message using SweetAlert\n            Swal.fire({\n              icon: 'error',\n              title: 'Error',\n              text: response.data.message\n            });\n          }\n          loading = false;\n        } catch (error) {\n          loading = false;\n          // Handle any errors from the API call\n\n          // console.error('API call failed:', error);\n          // console.log('Error message:', error.message);\n          // console.log('Error response:', error.response);\n          // console.log('Error request:', error.request);\n          // console.log('Error config:', error.config);\n          Swal.fire({\n            icon: 'error',\n            title: 'An error occurred',\n            text: 'Please try again.'\n          });\n        }\n      }\n    },\n    validEmail: function (email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","name","data","result","email","password","user","value","errormsg","logging","created","methods","login","length","validEmail","loading","response","post","headers","isSuccess","localStorage","setItem","token","$nextTick","$router","push","fire","icon","title","text","message","error","re","test"],"sources":["D:\\SAI Kitchen\\App\\Attendance Frontend\\Latest Attendance Vue js\\attendance\\src\\auth\\login.vue"],"sourcesContent":["<template>\n  <div>\n\n    <div class=\"container-fluid\">\n      <div class=\"row \">\n        <div class=\"col-12 p-0\">\n          <div class=\"login-card\">\n            <div>\n              <div>\n                <a class=\"logo\">\n                  <img class=\"img-fluid for-light\" src=\"../assets/images/logo/logo.png\" alt=\"looginpage\" />\n                  <img class=\"img-fluid for-dark\" src=\"../assets/images/logo/logo_dark.png\" alt=\"looginpage\" />\n                </a>\n              </div>\n              <div class=\"login-main\">\n                <form class=\"theme-form\">\n                  <h4>Sign in to account</h4>\n                  <p>Enter your email & password to login</p>\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Email Address</label>\n                    <input class=\"form-control\" type=\"email\" required=\"\" placeholder=\"Test@gmail.com\"\n                      v-model=\"user.email.value\">\n                    <span class=\"validate-error\" v-if=\"!user.email.value || !validEmail(user.email.value)\">{{\n                      user.email.errormsg }}</span>\n\n                  </div>\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Password</label>\n                    <div class=\"form-input position-relative\">\n                      <input class=\"form-control\" type=\"password\" name=\"login[password]\" required=\"\"\n                        placeholder=\"*********\" v-model=\"user.password.value\">\n                      <span class=\"validate-error\" v-if=\"user.password.value.length < 7\">{{ user.password.errormsg\n                      }}</span>\n\n                      <div class=\"show-hide\"><span class=\"show\"> </span></div>\n                    </div>\n                  </div>\n                  <div class=\"form-group mb-0\">\n                    <div class=\"checkbox p-0\">\n                      <input id=\"checkbox1\" type=\"checkbox\">\n                      <label class=\"text-muted\" for=\"checkbox1\">Remember password</label>\n                    </div><router-link class=\"link\" to=\"/authentication/forgetpassword\"> Forgot password?</router-link>\n                    <div class=\"text-end mt-3\">\n                      <button class=\"btn btn-primary btn-block w-100\" type=\"submit\" @click.prevent=\"login\">Sign\n                        in</button>\n\n                    </div>\n                  </div>\n                  <!-- <h6 class=\"text-muted mt-4 or\">Or Sign in with</h6>\n                  <div class=\"social mt-4\">\n                    <div class=\"btn-showcase\"><a class=\"btn btn-light\" href=\"https://www.linkedin.com/login\"\n                        target=\"_blank\"><i class=\"txt-linkedin\" data-feather=\"linkedin\"></i> LinkedIn </a><a\n                        class=\"btn btn-light\" href=\"https://twitter.com/login?lang=en\" target=\"_blank\"><i\n                          class=\"txt-twitter\" data-feather=\"twitter\"></i>twitter</a><a class=\"btn btn-light\"\n                        href=\"https://www.facebook.com/\" target=\"_blank\"><i class=\"txt-fb\"\n                          data-feather=\"facebook\"></i>facebook</a></div>\n                  </div>\n                  <p class=\"mt-4 mb-0 text-center\">Don't have account?<a class=\"ms-2\" href=\"sign-up.html\">Create\n                      Account</a></p> -->\n                </form>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\n\n\nexport default {\n  name: 'login',\n  data() {\n    return {\n\n      result: { email: '', password: '' },\n\n      user: {\n        email: {\n          value: 'sameer71095@gmail.com',\n          errormsg: ''\n        },\n        password: {\n          value: 'm.sameer',\n          errormsg: ''\n        }\n      },\n    logging: false\n    };\n  },\n\n  created() {\n\n  },\n\n  methods: {\n    async login() {\n      if (!this.user.password.value || this.user.password.value.length < 7) {\n        this.user.password.errormsg = 'min length 7'\n      } else { this.user.password.errormsg = '' }\n\n      if (!this.user.email.value) {\n        this.user.email.errormsg = 'empty not allowed'\n      } else if (!this.validEmail(this.user.email.value)) {\n        this.user.email.errormsg = 'Valid email required.'\n      }\n      else {\n        this.user.email.errormsg = ''\n      }\n      if (!this.user.email.errormsg && !this.user.password.errormsg) {\n      try {\n        loading=true;\n        const response = await axios.post('http://clockspotter.com:5000/Api/Employer/Login', {\n          email: this.user.email.value,\n          password: this.user.password.value,\n        },\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n        if (response.data.isSuccess) {\n          // Save token to localStorage (or any other storage you'd like to use)\n          localStorage.setItem('authToken', response.data.data.token);\n\n this.logging = true\n this.$nextTick(() => {\n  this.$router.push('/');\n});\n\n\n        } else {\n          // Display the response message\n        // Display the response message using SweetAlert\n  Swal.fire({\n    icon: 'error',\n    title: 'Error',\n    text: response.data.message,\n  });\n        }\n        loading=false;\n      } catch (error) {\n        loading=false;\n        // Handle any errors from the API call\n        \n    // console.error('API call failed:', error);\n    // console.log('Error message:', error.message);\n    // console.log('Error response:', error.response);\n    // console.log('Error request:', error.request);\n    // console.log('Error config:', error.config);\n    Swal.fire({\n  icon: 'error',\n  title: 'An error occurred',\n  text: 'Please try again.',\n});\n      }\n    }\n\n\n      \n    },\n    validEmail: function (email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      return re.test(email)\n    }\n  },\n};\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}